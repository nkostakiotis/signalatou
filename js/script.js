var firstArray = [];
var secondArray = [];

var playerOneName;
var playerTwoName;
var playerOneIdFromDB;
var playerTwoIdFromDB;
var players = ["player1", "player2"];
var wins = [{ id: "player1", wins: 0 }, { id: "player2", wins: 0 }];

var vesselData = [];
var myMusic;
var nikolasSvg = `<?xml version="1.0" encoding="UTF-8"?>
<svg width="400px" height="513px" viewBox="0 0 400 513" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
    <title>Group 45</title>
    <desc>Created with Sketch.</desc>
    <defs>
        <polygon id="path-1" points="0.146364564 0.345474346 399.32023 0.345474346 399.32023 299.606794 0.146364564 299.606794"></polygon>
        <polygon id="path-3" points="0.0959427203 0.762506492 332.02017 0.762506492 332.02017 94.1317919 0.0959427203 94.1317919"></polygon>
        <polygon id="path-5" points="0.146364564 0.718316918 67.9830135 0.718316918 67.9830135 437.794214 0.146364564 437.794214"></polygon>
    </defs>
    <g id="Page-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">
        <g id="Group-45" transform="translate(0.000000, -46.000000)">
            <g id="Group-17" transform="translate(121.772640, 46.242775)" fill="#0F3356">
                <path d="M82.888491,5.19551609 L81.5506448,1.64692655 L106.320801,15.9055226 C106.140792,16.0118474 105.974116,16.135893 105.829664,16.2843047 L104.505152,17.6310852 L82.888491,5.19551609 Z M53.0136296,17.6333003 L74.6214015,5.19551609 L75.9659147,1.65135675 L51.1957588,15.9055226 C51.375768,16.0118474 51.5424432,16.135893 51.6913397,16.2843047 L53.0136296,17.6333003 Z M53.0136296,51.7081773 L51.6913397,53.0593881 C51.5424432,53.2077998 51.3802127,53.3340604 51.2024258,53.4403852 L75.9659147,67.6901209 L74.6214015,64.1459615 L53.0136296,51.7081773 Z M65.9342905,32.1444177 L67.2499133,32.1444177 L68.4277513,32.1444177 L78.0482434,6.71064422 L78.4060395,5.76922689 L78.7593909,4.83445486 L79.1149647,5.77587219 L79.4683161,6.71507441 L89.0910305,32.1444177 L90.2666462,32.1444177 L91.6733848,32.1444177 L80.7550486,3.31046634 L80.3950302,2.37347921 L79.8816706,1.00676276 C79.8816706,0.997902366 79.8772259,0.989041968 79.8705589,0.98018157 C79.8594472,0.953600375 79.8483355,0.927019179 79.8305568,0.904868184 C79.8194452,0.873856789 79.8083335,0.847275594 79.7905548,0.820694399 C79.7749984,0.791898104 79.7572197,0.765316909 79.7394411,0.736520615 C79.7216624,0.716584718 79.7038837,0.696648822 79.6883273,0.672282726 C79.6638816,0.643486432 79.6416583,0.616905237 79.6105456,0.590324041 C79.6016562,0.577033444 79.5838775,0.559312647 79.5660989,0.54380695 C79.5372085,0.521655954 79.5127628,0.499504958 79.4860948,0.479569062 C79.4572044,0.459633165 79.4327587,0.439697269 79.4038683,0.421976472 C79.3794226,0.406470775 79.3527546,0.388749978 79.3171972,0.373244281 C79.2883069,0.355523485 79.2594165,0.344447987 79.2305261,0.331157389 C79.2038581,0.317866792 79.1749677,0.304576194 79.143855,0.297930895 C79.1282987,0.291285596 79.1149647,0.286855397 79.097186,0.282425198 C79.0749626,0.277994999 79.0527393,0.2713497 79.0305159,0.264704401 L79.0238489,0.264704401 C78.9994032,0.260274202 78.9771799,0.249198704 78.9549565,0.246983605 C78.8971758,0.238123206 78.832728,0.233693007 78.7682803,0.229262808 L78.7593909,0.229262808 C78.6882762,0.229262808 78.6193838,0.238123206 78.5571584,0.246983605 C78.5438244,0.249198704 78.5327127,0.253628903 78.521601,0.255844003 C78.5104893,0.260274202 78.4927106,0.262489302 78.4771543,0.2691346 C78.4593756,0.2713497 78.4415969,0.2735648 78.4238182,0.280210098 C78.4060395,0.286855397 78.3838162,0.291285596 78.3593705,0.300145995 C78.3438141,0.304576194 78.3304801,0.311221493 78.3127014,0.317866792 C78.2682547,0.335587588 78.2282527,0.355523485 78.1882506,0.375459381 C78.1815836,0.377674481 78.1815836,0.38210468 78.1815836,0.38210468 L78.1304699,0.408685875 C78.0815785,0.43748217 78.0415764,0.468493564 78.0015744,0.499504958 C77.9904627,0.510580456 77.979351,0.519440854 77.9682394,0.528301253 C77.9282373,0.561527747 77.8926799,0.59696934 77.8593449,0.634626033 C77.8526779,0.641271332 77.8482332,0.647916631 77.8415662,0.65234683 C77.7771185,0.729875316 77.7193377,0.818479299 77.674891,0.911513482 C77.674891,0.918158781 77.674891,0.92258898 77.668224,0.929234279 C77.6571123,0.955815474 77.6393336,0.98018157 77.634889,1.00676276 L77.1148624,2.36683391 L76.7570663,3.30603614 L70.430076,20.0521891 L65.9342905,32.1444177 Z M64.694227,37.9058918 L64.0030806,36.0629289 L63.8164044,35.575607 C63.807515,35.5512409 63.800848,35.5224446 63.794181,35.4936483 C63.7830693,35.4714973 63.7764023,35.4449161 63.767513,35.4183349 L63.5697251,35.619909 L55.735991,43.605343 L51.0824197,48.3478713 L51.0824197,47.3998086 L51.0824197,46.4495309 L51.0824197,22.8963769 L51.0824197,21.9438841 L51.0824197,20.9958215 L63.5697251,33.7215686 L63.767513,33.9253578 C63.8475171,33.6794818 63.9519669,33.4491114 64.1008634,33.2342467 C64.1986461,33.0946955 64.3075406,32.9684348 64.4275467,32.8532496 C64.4764381,32.8045174 64.5275518,32.7602154 64.5742209,32.7203436 C64.6008889,32.7004077 64.6253346,32.6826869 64.654225,32.662751 C64.7186727,32.6140189 64.7875651,32.5675018 64.8564576,32.5231998 C64.8675692,32.5165545 64.8786809,32.5121243 64.8897926,32.5032639 C64.9364617,32.4744676 64.9897977,32.4434562 65.0409114,32.4190901 C65.1786963,32.3459918 65.3364821,32.2883992 65.4920456,32.2440972 L65.2120313,31.9605645 L64.694227,31.437801 L54.835945,21.3878941 L50.7401799,17.2124314 C50.509057,16.982061 50.19793,16.8491551 49.8756913,16.8491551 C49.7179054,16.8491551 49.5645643,16.8779513 49.4178901,16.937759 C49.3689987,16.95991 49.3156626,16.9864912 49.2712159,17.0152875 C49.1934342,17.0551593 49.1312088,17.1061066 49.073428,17.159269 C49.0556493,17.1703445 49.0445377,17.18142 49.033426,17.1947106 C48.9756452,17.2545183 48.9223092,17.314326 48.8778625,17.380779 C48.8311934,17.449447 48.7978584,17.5225453 48.7667457,17.5956436 C48.7578563,17.6111493 48.7511893,17.626655 48.7445223,17.6443758 C48.722299,17.7219043 48.6978533,17.8016479 48.6867416,17.8836066 C48.6822969,17.8880368 48.6822969,17.8968972 48.6822969,17.9057576 C48.6756299,17.9544897 48.6689629,18.0032219 48.6689629,18.0519541 L48.6689629,19.4873387 L48.6689629,20.4398315 L48.6689629,48.9038613 L48.6689629,49.8519239 L48.6689629,51.2917386 C48.6689629,51.3404708 48.6756299,51.389203 48.6822969,51.4379352 C48.6822969,51.4445805 48.6822969,51.4490107 48.6867416,51.4578711 C48.6978533,51.54426 48.722299,51.6262187 48.7511893,51.7037471 C48.7511893,51.7148226 48.7578563,51.723683 48.762301,51.7369736 C48.8200817,51.8942457 48.9178645,52.0360121 49.0445377,52.1534124 C49.0512047,52.1644879 49.0623163,52.1689181 49.066761,52.1799936 C49.1312088,52.2331559 49.1934342,52.2863183 49.2712159,52.3261901 C49.3156626,52.3572015 49.3689987,52.3793525 49.4178901,52.4037186 C49.8690243,52.5831417 50.4046072,52.4723867 50.7401799,52.1290463 L51.8246799,51.0259267 L64.694227,37.9058918 Z M104.505152,51.7081773 L82.888491,64.1481766 L81.5506448,67.6901209 L106.316356,53.4403852 C106.136347,53.3340604 105.974116,53.2077998 105.829664,53.0593881 L104.505152,51.7081773 Z M108.836485,17.8968972 L108.836485,17.8858217 C108.825373,17.8016479 108.800928,17.715259 108.772037,17.6355154 C108.76537,17.626655 108.76537,17.6200097 108.754259,17.6089342 C108.696478,17.4516621 108.598695,17.3054656 108.478689,17.1902804 C108.465355,17.18142 108.46091,17.1703445 108.447576,17.1659143 C108.385351,17.1083217 108.320903,17.0551593 108.247566,17.0152875 C108.200897,16.9864912 108.149783,16.95991 108.098669,16.937759 C107.951995,16.8779513 107.796432,16.8491551 107.640868,16.8491551 C107.31863,16.8491551 107.007503,16.982061 106.77638,17.2124314 L105.696324,18.315551 L92.8156655,31.4400161 L92.3023059,31.9627796 L92.0311809,32.2440972 C92.0422926,32.2463123 92.0556266,32.2529576 92.0645159,32.2551727 C92.0645159,32.2551727 92.0734053,32.2573878 92.07785,32.261818 C92.1711881,32.2883992 92.2623038,32.3238408 92.3489749,32.3592824 C92.3600866,32.3681428 92.3734206,32.372573 92.3845323,32.3770032 C92.4178674,32.3902938 92.4467577,32.4035844 92.4756481,32.4190901 C92.5200948,32.4412411 92.5667639,32.4678223 92.6089882,32.4921884 C92.6312116,32.5076941 92.660102,32.5209847 92.6845477,32.5387055 C92.7423284,32.571932 92.7934421,32.6095887 92.8445558,32.6516755 C92.8867802,32.6760416 92.9201153,32.7026228 92.9556726,32.7336342 C92.9956747,32.7646456 93.0356767,32.8000872 93.0712341,32.8377439 C93.1979073,32.9573593 93.3112464,33.0858351 93.4156962,33.2342467 C93.5312576,33.3981641 93.6245957,33.5775872 93.6934882,33.7614404 C93.7157115,33.8123877 93.7334902,33.8699803 93.7512689,33.9253578 L93.9468345,33.7215686 L106.436362,20.9958215 L106.436362,21.9438841 L106.436362,22.8963769 L106.436362,46.4495309 L106.436362,47.3998086 L106.436362,48.3478713 L101.785013,43.605343 L93.9468345,35.619909 L93.7512689,35.4183349 C93.7334902,35.4670671 93.7223785,35.5157993 93.7045998,35.5601013 L93.513479,36.065144 L92.8156655,37.9014616 L92.8156655,37.9058918 L105.696324,51.0259267 L106.77638,52.1290463 C107.116397,52.4723867 107.647535,52.5875719 108.098669,52.4037186 C108.149783,52.3793525 108.200897,52.3572015 108.247566,52.3261901 C108.320903,52.2863183 108.385351,52.2331559 108.447576,52.1799936 C108.46091,52.1689181 108.465355,52.1644879 108.478689,52.1534124 C108.598695,52.0360121 108.696478,51.8942457 108.754259,51.7369736 C108.760926,51.723683 108.76537,51.7148226 108.772037,51.7037471 C108.800928,51.6262187 108.825373,51.54426 108.836485,51.4578711 L108.836485,51.4445805 C108.84093,51.3914181 108.847597,51.3426859 108.847597,51.2917386 L108.847597,49.8519239 L108.847597,48.9038613 L108.847597,20.4398315 L108.847597,19.4873387 L108.847597,18.0519541 C108.847597,17.9987917 108.84093,17.9500595 108.836485,17.8968972 Z M91.2689197,38.2270812 L80.7550486,66.0310113 L80.4016972,66.9702135 L79.8816706,68.3347149 C79.8816706,68.3435753 79.8772259,68.3480055 79.8772259,68.3568659 C79.8594472,68.3878773 79.8483355,68.4211038 79.8261122,68.4499001 C79.8194452,68.4742662 79.8083335,68.4986322 79.7972218,68.516353 C79.7749984,68.5517946 79.7572197,68.582806 79.7349964,68.6138174 C79.7216624,68.6337533 79.7038837,68.649259 79.6949943,68.6669798 C79.6638816,68.6979912 79.6416583,68.7290026 79.6105456,68.7555838 C79.5949892,68.7688744 79.5838775,68.7843801 79.5660989,68.7954556 C79.5372085,68.8220368 79.5083181,68.848618 79.4727608,68.870769 C79.4572044,68.8818445 79.4394257,68.8995653 79.421647,68.9106408 C79.3927567,68.9283616 79.3705333,68.9416522 79.3394206,68.9571579 C79.3283089,68.9638032 79.3171972,68.9726636 79.3060856,68.9748787 C79.2883069,68.9859542 79.2727505,68.9948146 79.2549718,69.0014599 C79.2483048,69.003675 79.2438602,69.0058901 79.2371931,69.0103203 C79.2305261,69.0147505 79.2149698,69.0191807 79.2038581,69.0213958 C79.1905241,69.0280411 79.1749677,69.0324713 79.1638561,69.0391165 C79.1216317,69.0546222 79.0749626,69.0656977 79.0349606,69.0767732 C79.0305159,69.0767732 79.0171819,69.0812034 79.0127372,69.0812034 C78.9727352,69.0900638 78.9438448,69.0922789 78.9060651,69.094494 C78.8927311,69.094494 78.8727301,69.1011393 78.8505067,69.1011393 C78.8438397,69.1033544 78.839395,69.1011393 78.839395,69.1011393 C78.8105047,69.1033544 78.786059,69.1122148 78.7593909,69.1122148 C78.7282782,69.1122148 78.7016102,69.1033544 78.6727198,69.1011393 L78.6549411,69.1011393 L78.6438295,69.1011393 C78.5971604,69.094494 78.5571584,69.0922789 78.5104893,69.0834185 C78.5038223,69.0812034 78.4927106,69.0767732 78.4815989,69.0767732 C78.4415969,69.0656977 78.3971502,69.0546222 78.3482588,69.0391165 C78.3304801,69.0302562 78.3127014,69.025826 78.2971451,69.0169656 L78.2904781,69.0169656 C78.2904781,69.0147505 78.2860334,69.0103203 78.2793664,69.0103203 C78.250476,68.9948146 78.2215856,68.9837391 78.1993623,68.9726636 C78.1882506,68.9638032 78.1704719,68.9571579 78.1593602,68.9482975 C78.1415816,68.9394371 78.1304699,68.9305767 78.1126912,68.9217163 C78.0771338,68.9017804 78.0482434,68.8774143 78.0193531,68.8574784 C78.0015744,68.8397576 77.979351,68.8242519 77.9615723,68.8065311 C77.9349043,68.782165 77.9060139,68.7533687 77.8815683,68.7290026 C77.8637896,68.7134969 77.8482332,68.6957761 77.8348992,68.6802704 C77.8060088,68.6470439 77.7837855,68.6093872 77.7548951,68.5695154 C77.7482281,68.5584399 77.7371164,68.5473644 77.7326717,68.5362889 C77.7082261,68.4919869 77.6860027,68.447685 77.661557,68.4011679 C77.6571123,68.3923075 77.6571123,68.3856622 77.6526677,68.3768018 C77.6460006,68.3635112 77.6393336,68.3480055 77.634889,68.3347149 L77.1148624,66.9724286 L76.7570663,66.0354415 L66.2454175,38.2270812 L65.9876265,37.5426154 L65.8498417,37.1749089 L65.8498417,37.1726938 L65.7276132,36.8559346 L65.560938,36.4262052 L65.560938,36.421775 L65.1498059,35.3319461 L65.0586901,35.1015757 L65.0586901,35.0927153 C65.0231328,35.0041113 65.0009094,34.9066469 64.9897977,34.8113976 L64.9897977,34.7803863 C64.9831307,34.6962125 64.9831307,34.6120387 64.9897977,34.5256498 C64.9942424,34.4968535 65.0075764,34.4702723 65.0120211,34.441476 C65.0409114,34.2797737 65.0986922,34.1247168 65.196475,33.9873806 C65.243144,33.9187125 65.3009247,33.8566897 65.3631501,33.8013122 C65.3875958,33.774731 65.4164862,33.7547951 65.4431542,33.730429 C65.4853786,33.6994177 65.5320477,33.6684063 65.5764944,33.6418251 C65.6053848,33.6241043 65.6409421,33.6041684 65.6742772,33.5886627 C65.7209462,33.5665117 65.7742823,33.5465758 65.825396,33.5332852 C65.8542864,33.5222097 65.8898438,33.5111342 65.9231788,33.5022738 C66.0054052,33.484553 66.0854093,33.4756926 66.1654134,33.4712624 L66.1876368,33.4712624 L66.6898847,33.4712624 L67.6077094,33.4712624 L67.6143764,33.4712624 L67.9255034,33.4712624 L67.9321704,33.4712624 L68.4033057,33.4712624 L68.4144173,33.4712624 L68.6344286,33.4712624 L69.3500207,33.4712624 L88.1665388,33.4712624 L88.8821309,33.4712624 L89.0999199,33.4712624 L89.1132539,33.4712624 L89.5866114,33.4712624 L89.5910561,33.4712624 L89.9021831,33.4712624 L89.9155171,33.4712624 L90.8266749,33.4712624 L91.3289228,33.4712624 L91.3400344,33.4712624 C91.4311502,33.4712624 91.5178213,33.484553 91.6000477,33.5044889 C91.6222711,33.506704 91.6444945,33.5155644 91.6689402,33.5244248 C91.7311656,33.5421456 91.793391,33.5665117 91.860061,33.595308 C91.8822844,33.6063835 91.9045078,33.617459 91.9267311,33.6351798 C91.9800672,33.6661912 92.0378479,33.7016328 92.084517,33.7392894 C92.1067403,33.7592253 92.131186,33.774731 92.1534094,33.7924518 C92.2111901,33.8500444 92.2734155,33.9164974 92.3200846,33.9873806 C92.3734206,34.0671242 92.4178674,34.1468678 92.4534247,34.2376869 L92.4578694,34.2487623 C92.4578694,34.2554076 92.4578694,34.2620529 92.4645364,34.2686982 C92.4867598,34.3417965 92.5045385,34.4171099 92.5200948,34.4990686 C92.5200948,34.5256498 92.5200948,34.5500159 92.5267618,34.5765971 C92.5334288,34.6386199 92.5334288,34.707288 92.5267618,34.773741 C92.5200948,34.7958919 92.5200948,34.8180429 92.5200948,34.8357637 C92.5045385,34.9265828 92.4867598,35.0107566 92.4578694,35.0927153 L92.3667536,35.3341611 L91.9578438,36.421775 L91.9578438,36.4262052 L91.793391,36.8559346 L91.6733848,37.1726938 L91.6733848,37.1749089 L91.5356,37.5404003 L91.2689197,38.2270812 Z M79.1149647,63.5678206 L79.4683161,62.6264032 L89.0910305,37.199275 L89.3377098,36.5369602 L89.4177139,36.3243107 L89.4177139,36.3154503 L89.5910561,35.8746455 L89.1132539,35.8746455 L89.0999199,35.8746455 L88.8821309,35.8746455 L88.1665388,35.8746455 L69.3500207,35.8746455 L68.6344286,35.8746455 L68.4144173,35.8746455 L68.4033057,35.8746455 L67.9321704,35.8746455 L68.0988456,36.3176654 L68.0988456,36.3287409 L68.1788497,36.5369602 L68.432196,37.199275 L78.0482434,62.6308334 L78.4060395,63.5700357 L78.7593909,64.5048077 L79.1149647,63.5678206 Z" id="Fill-2"></path>
                <path d="M13.0651417,119.312131 C10.7628017,119.312131 8.47379576,118.915628 6.26034921,118.131483 C4.14468543,117.384994 2.18680751,116.239788 0.437829159,114.72466 L4.03801331,110.434012 C5.38474886,111.497259 6.78259814,112.358933 8.19378144,112.999097 C9.71385919,113.687993 11.3961675,114.037979 13.1984819,114.037979 C14.6652236,114.037979 15.8297276,113.761091 16.6586589,113.213962 C17.5320369,112.638036 17.9742817,111.829524 17.9742817,110.808364 L17.9742817,110.71976 C17.9742817,110.236868 17.8809436,109.798278 17.6987121,109.415066 C17.5098135,109.020778 17.1697961,108.666362 16.6564365,108.334097 C16.1808567,108.028414 15.5230452,107.72273 14.6963363,107.421476 C13.8785167,107.126868 12.8073508,106.812324 11.5139513,106.488919 C9.97831716,106.114567 8.5693562,105.689268 7.32262577,105.224097 C6.09811869,104.772217 5.04695381,104.202937 4.19579916,103.536192 C3.35575619,102.880522 2.69794477,102.05429 2.23792123,101.081861 C1.77567537,100.100572 1.5423301,98.8623314 1.5423301,97.3937204 L1.5423301,97.3051164 C1.5423301,95.9583359 1.79789873,94.7245254 2.30014664,93.6391266 C2.80683922,92.5537278 3.52465372,91.6056652 4.42914443,90.823735 C5.33363514,90.0373746 6.44035842,89.421577 7.71375688,88.9940627 C8.98937769,88.5687636 10.420562,88.3516839 11.9650855,88.3516839 C14.178532,88.3516839 16.2386374,88.6839488 18.0853985,89.3351881 C19.8388215,89.9532009 21.4811278,90.8392407 22.9723152,91.9733717 L19.8077088,96.5320467 C18.50542,95.672588 17.2142428,94.9770467 15.9652901,94.4631436 C14.6096652,93.9071536 13.2340393,93.6280511 11.876192,93.6280511 C10.4650087,93.6280511 9.42495552,93.9027234 8.70269636,94.4675738 C7.96043617,95.0390695 7.58263907,95.7700524 7.58263907,96.6383714 L7.58263907,96.7247603 C7.58263907,97.2718899 7.69153353,97.7592118 7.90710011,98.1734354 C8.12488903,98.5943044 8.51602014,98.9708713 9.06715945,99.2920607 C9.58274137,99.5955294 10.2938889,99.8879225 11.1850456,100.16038 C12.0473119,100.423977 13.1562575,100.734091 14.4807697,101.086291 C16.0186261,101.49387 17.4031414,101.95461 18.5987581,102.457438 C19.7854855,102.958051 20.794426,103.560558 21.5944669,104.249454 C22.3922855,104.933919 23.0012055,105.744646 23.401226,106.663912 C23.8079134,107.587609 24.0145907,108.710664 24.0145907,110.006497 L24.0145907,110.095101 C24.0145907,111.559282 23.745688,112.881697 23.2145498,114.024688 C22.6834115,115.161034 21.932262,116.129033 20.9833245,116.899887 C20.0277201,117.677387 18.8698831,118.279894 17.5431486,118.687473 C16.20308,119.101696 14.6963363,119.312131 13.0651417,119.312131" id="Fill-4"></path>
                <polygon id="Fill-6" points="27.6456653 118.87332 33.7748677 118.87332 33.7748677 88.7922672 27.6456653 88.7922672"></polygon>
                <path d="M53.3732035,119.399627 C51.0153051,119.399627 48.8418606,119.007555 46.9084284,118.2367 C44.9772185,117.465845 43.2949102,116.382662 41.910395,115.015945 C40.5236574,113.649229 39.4280458,112.00341 38.6546729,110.11836 C37.8813,108.231095 37.4901689,106.146686 37.4901689,103.920511 L37.4901689,103.831907 C37.4901689,101.694336 37.8901893,99.6608748 38.6768962,97.7891157 C39.4613808,95.9217867 40.5725488,94.2582469 41.977065,92.8427983 C43.3749143,91.4339949 45.0594449,90.3042941 46.9839878,89.4891375 C48.897419,88.6761959 51.0308615,88.2641874 53.3287568,88.2641874 C54.6888264,88.2641874 55.9377791,88.3594367 57.0422801,88.5455051 C58.1445587,88.7315734 59.1823896,88.9973854 60.1335493,89.3429409 C61.0691527,89.6818512 61.9669764,90.1160107 62.8025747,90.6321289 C63.5448349,91.0884394 64.2759834,91.613418 64.9826862,92.1937741 L61.1269335,96.8299775 C60.6180185,96.4135388 60.1024366,96.0325417 59.589077,95.6980617 C58.9779346,95.305989 58.3467913,94.9737241 57.7067585,94.7079121 C57.0600588,94.4354549 56.3489113,94.2228053 55.5955394,94.0721786 C54.8443899,93.9237669 54.0065692,93.8462384 53.1109679,93.8462384 C51.8309024,93.8462384 50.6197293,94.1164805 49.5107837,94.6481044 C48.4085051,95.1730831 47.4262327,95.8929904 46.5906344,96.7834605 C45.7594807,97.6717154 45.1016693,98.7261028 44.6327564,99.9156113 C44.1660659,101.10069 43.928276,102.389878 43.928276,103.743303 L43.928276,103.831907 C43.928276,105.273937 44.1660659,106.620718 44.6305341,107.834592 C45.099447,109.055112 45.7772594,110.133866 46.6395258,111.037626 C47.4951251,111.939172 48.5240666,112.652434 49.6974599,113.155262 C50.8641863,113.653659 52.1731421,113.90618 53.5954371,113.90618 C56.1777914,113.90618 58.3890156,113.263801 60.1691067,112.001195 L60.3068915,111.90373 L60.3068915,107.017221 L55.9400015,107.017221 L55.9400015,101.831672 L66.2160827,101.831672 L66.2160827,114.701401 C64.6826709,115.981729 62.8470214,117.091494 60.7513587,117.999684 C58.6134716,118.927811 56.1311224,119.399627 53.3732035,119.399627" id="Fill-8"></path>
                <polygon id="Fill-9" points="92.4083113 118.871991 76.9830778 98.6946484 76.9830778 118.871991 70.9427689 118.871991 70.9427689 88.7909381 76.7097305 88.7909381 91.6482724 108.356913 91.6482724 88.7909381 97.6863591 88.7909381 97.6863591 118.871991"></polygon>
                <path d="M112.172878,106.706221 L121.344458,106.706221 L116.757557,95.550979 L112.172878,106.706221 Z M126.318046,118.871548 L123.500124,111.980373 L110.021657,111.980373 L107.201512,118.871548 L101.001195,118.871548 L113.841852,88.7927102 L119.851048,88.7927102 L132.69615,118.871548 L126.318046,118.871548 Z" id="Fill-10"></path>
                <polygon id="Fill-11" points="135.577853 118.871991 135.577853 88.7909381 141.707055 88.7909381 141.707055 113.378544 157.078953 113.378544 157.078953 118.871991"></polygon>
                <polygon id="Fill-12" points="150.019925 159.036841 134.594691 138.859499 134.594691 159.036841 128.554382 159.036841 128.554382 128.955788 134.319122 128.955788 149.259886 148.521763 149.259886 128.955788 155.297973 128.955788 155.297973 159.036841"></polygon>
                <path d="M105.357196,146.869963 L114.528776,146.869963 L109.941875,135.714722 L105.357196,146.869963 Z M119.500142,159.037505 L116.684442,152.144116 L103.205975,152.144116 L100.383608,159.037505 L94.1855133,159.037505 L107.019503,128.956453 L113.028699,128.956453 L125.880468,159.037505 L119.500142,159.037505 Z" id="Fill-13"></path>
                <polygon id="Fill-14" points="68.707099 159.036841 68.707099 128.955788 91.2660307 128.955788 91.2660307 134.318545 74.7474079 134.318545 74.7474079 140.857519 89.283707 140.857519 89.283707 146.215844 74.7474079 146.215844 74.7474079 153.6763 91.4838196 153.6763 91.4838196 159.036841"></polygon>
                <path d="M18.2347395,134.011975 C16.8168892,134.011975 15.5034887,134.271141 14.3367623,134.785045 C13.1722583,135.298948 12.1566508,136.018855 11.3188302,136.927046 C10.4898989,137.828591 9.83208746,138.889624 9.36317459,140.081348 C8.89426171,141.264211 8.65869411,142.553399 8.65869411,143.90904 L8.65869411,143.995429 C8.65869411,145.35107 8.89426171,146.646903 9.36095225,147.847487 C9.82986513,149.052501 10.5054552,150.122394 11.3699439,151.02837 C12.2322102,151.93213 13.2589294,152.658683 14.4212111,153.185877 C15.5857151,153.715286 16.8991156,153.983313 18.3258553,153.983313 C19.7170375,153.983313 21.0193264,153.721931 22.1993867,153.208028 C23.3794471,152.698555 24.4017216,151.976432 25.2373199,151.066027 C26.0684735,150.164481 26.7285073,149.103448 27.1974202,147.91394 C27.6641107,146.728862 27.9019006,145.439674 27.9019006,144.086248 L27.9019006,143.995429 C27.9019006,142.642003 27.6641107,141.348385 27.1974202,140.145586 C26.7285073,138.940571 26.0529172,137.870678 25.1906508,136.964703 C24.3306069,136.063157 23.2949983,135.338819 22.114938,134.807196 C20.9326553,134.280002 19.6259218,134.011975 18.2347395,134.011975 M18.2347395,159.563149 C15.9123985,159.563149 13.745621,159.15114 11.7988547,158.335983 C9.85208848,157.525257 8.14311218,156.411062 6.72303954,155.02441 C5.30741158,153.639972 4.19179896,151.991938 3.40731438,150.126824 C2.62060748,148.25728 2.22058701,146.223819 2.22058701,144.086248 L2.22058701,143.995429 C2.22058701,141.857858 2.62727448,139.826611 3.42731541,137.954852 C4.23402334,136.083093 5.3585253,134.417338 6.77193093,133.008535 C8.1875589,131.597516 9.90097987,130.467815 11.8655248,129.654874 C13.8256251,128.841932 15.9990696,128.429924 18.3258553,128.429924 C20.6459739,128.429924 22.8127514,128.841932 24.76174,129.654874 C26.7107286,130.470031 28.4174826,131.584226 29.8308882,132.968663 C31.2465162,134.34867 32.3643511,135.996704 33.1532804,137.866248 C33.9399873,139.738007 34.3400077,141.771469 34.3400077,143.90904 L34.3400077,143.995429 C34.3400077,146.135215 33.9310979,148.168676 33.1288347,150.036005 C32.3287937,151.909979 31.2020694,153.575734 29.7864415,154.984538 C28.3730358,156.395556 26.6596149,157.523042 24.6950699,158.335983 C22.730525,159.15114 20.5570805,159.563149 18.2347395,159.563149" id="Fill-15"></path>
                <path d="M53.0931892,159.563592 C50.9308564,159.563592 48.8951967,159.167089 47.0417685,158.385159 C45.1883404,157.601013 43.5660352,156.51783 42.2192997,155.159974 C40.8725641,153.804333 39.8058429,152.180665 39.0480263,150.333272 C38.2902098,148.488094 37.907968,146.485644 37.907968,144.383514 L37.907968,144.297125 C37.907968,142.197211 38.2902098,140.201406 39.0480263,138.369519 C39.8058429,136.535416 40.8747864,134.902888 42.221522,133.518451 C43.5682575,132.136228 45.2038968,131.028679 47.0839929,130.231243 C48.9640891,129.433807 51.0730859,129.030659 53.3532025,129.030659 C54.7377178,129.030659 56.0155609,129.145844 57.1578415,129.369569 C58.2978999,129.593294 59.3446201,129.905623 60.2691118,130.297696 C61.1936035,130.687553 62.0603145,131.170445 62.8425768,131.726435 C63.5492796,132.229263 64.2159804,132.783038 64.8315674,133.374469 L61.0135943,137.760366 C59.893537,136.783507 58.7401447,136.001577 57.5823077,135.432297 C56.3177986,134.809854 54.8799473,134.49531 53.3087558,134.49531 C52.0020223,134.49531 50.7708482,134.750046 49.6530132,135.255089 C48.5351783,135.760131 47.5595728,136.468963 46.7573096,137.359433 C45.9550463,138.245473 45.3239029,139.288785 44.8794357,140.456143 C44.4349685,141.621285 44.2082903,142.883892 44.2082903,144.210736 L44.2082903,144.297125 C44.2082903,145.626185 44.4349685,146.895437 44.8772134,148.07387 C45.3216806,149.254518 45.946157,150.304475 46.7328639,151.190515 C47.5217931,152.0832 48.4885092,152.796462 49.6063442,153.317011 C50.7264015,153.837559 51.9709096,154.101156 53.3087558,154.101156 C55.0844022,154.101156 56.6111469,153.768891 57.848988,153.115437 C58.9846017,152.515145 60.1268823,151.702203 61.2491619,150.694333 L65.040467,154.510949 C64.3448758,155.237502 63.6159497,155.902032 62.8714671,156.491248 C62.0580922,157.133627 61.1558238,157.694048 60.19133,158.152573 C59.2246139,158.613314 58.1512257,158.96773 57.002278,159.204745 C55.8466634,159.443976 54.5310405,159.563592 53.0931892,159.563592" id="Fill-16"></path>
            </g>
            <g id="Group-27">
                <g id="Group-20">
                    <mask id="mask-2" fill="white">
                        <use xlink:href="#path-1"></use>
                    </mask>
                    <g id="Clip-19"></g>
                    <path d="M483.274944,-43.1557093 C483.274944,146.148763 329.607676,299.606794 140.050042,299.606794 C-49.507592,299.606794 -203.174861,146.148763 -203.174861,-43.1557093 C-203.174861,-232.457967 -49.507592,-385.918212 140.050042,-385.918212 C329.607676,-385.918212 483.274944,-232.457967 483.274944,-43.1557093 Z" id="Stroke-18" stroke="#E1DCDA" stroke-width="0.6" stroke-dasharray="2" mask="url(#mask-2)"></path>
                </g>
                <g id="Group-23" transform="translate(67.300060, 464.307310)">
                    <mask id="mask-4" fill="white">
                        <use xlink:href="#path-3"></use>
                    </mask>
                    <g id="Clip-22"></g>
                    <path d="M437.759253,219.300455 C437.759253,339.994846 339.785919,437.838403 218.926489,437.838403 C98.0692771,437.838403 0.0959427203,339.994846 0.0959427203,219.300455 C0.0959427203,98.606064 98.0692771,0.762506492 218.926489,0.762506492 C339.785919,0.762506492 437.759253,98.606064 437.759253,219.300455 Z" id="Stroke-21" stroke="#E1DCDA" stroke-width="0.6" stroke-dasharray="2" mask="url(#mask-4)"></path>
                </g>
                <g id="Group-26" transform="translate(0.000000, 80.350750)">
                    <mask id="mask-6" fill="white">
                        <use xlink:href="#path-5"></use>
                    </mask>
                    <g id="Clip-25"></g>
                    <path d="M67.9830135,219.256265 C67.9830135,339.952871 -29.9925385,437.794214 -150.849751,437.794214 C-271.706963,437.794214 -369.680297,339.952871 -369.680297,219.256265 C-369.680297,98.5618744 -271.706963,0.718316918 -150.849751,0.718316918 C-29.9925385,0.718316918 67.9830135,98.5618744 67.9830135,219.256265 Z" id="Stroke-24" stroke="#E1DCDA" stroke-width="0.6" stroke-dasharray="2" mask="url(#mask-6)"></path>
                </g>
            </g>
            <g id="Group-44" transform="translate(192.678227, 241.233141)">
                <path d="M129.118429,14.6596492 C128.035962,21.5186724 121.598833,26.203749 114.738033,25.1189941 C107.879452,24.0386757 103.194677,17.5989136 104.279362,10.7376721 C105.361829,3.87864891 111.798958,-0.804209433 118.659758,0.278327218 C125.518339,1.36086387 130.200896,7.79840764 129.118429,14.6596492" id="Fill-28" fill="#E5E6E7"></path>
                <path d="M127.016269,14.3271241 C126.11791,20.0259697 120.769903,23.9168903 115.071424,23.0162553 C109.372946,22.1178387 105.482276,16.7694865 106.380635,11.0706409 C107.281212,5.37179526 112.629219,1.48087459 118.327698,2.38150959 C124.023958,3.27992628 127.914628,8.62827846 127.016269,14.3271241" id="Fill-30" fill="#E5E6E7"></path>
                <path d="M127.016269,14.3271241 C126.11791,20.0259697 120.769903,23.9168903 115.071424,23.0162553 C109.372946,22.1178387 105.482276,16.7694865 106.380635,11.0706409 C107.281212,5.37179526 112.629219,1.48087459 118.327698,2.38150959 C124.023958,3.27992628 127.914628,8.62827846 127.016269,14.3271241 Z" id="Stroke-32" stroke="#FEFEFE"></path>
                <polygon id="Fill-34" fill="#FEFEFE" points="122.803965 10.5857177 117.240795 11.1735706 116.655198 5.61004205 116.036328 5.67659144 112.267658 17.324952 122.868292 11.2024086"></polygon>
                <path d="M1.67125888,235.700102 C4.53491622,229.371255 11.9857489,226.565089 18.3141877,229.428931 C24.6404082,232.294991 27.4486113,239.746304 24.5827358,246.072932 C21.7190785,252.39956 14.2682458,255.207944 7.93980703,252.341884 C1.61358646,249.478042 -1.19461664,242.02673 1.67125888,235.700102" id="Fill-36" fill="#E5E6E7"></path>
                <path d="M3.60993937,236.577444 C5.99003568,231.322261 12.1787297,228.990814 17.4357924,231.368846 C22.6906369,233.749095 25.0219335,239.938188 22.6440553,245.19559 C20.263959,250.450773 14.075265,252.784438 8.81820231,250.404188 C3.56335781,248.023938 1.23206124,241.834846 3.60993937,236.577444" id="Fill-38" fill="#E5E6E7"></path>
                <path d="M3.60993937,236.577444 C5.99003568,231.322261 12.1787297,228.990814 17.4357924,231.368846 C22.6906369,233.749095 25.0219335,239.938188 22.6440553,245.19559 C20.263959,250.450773 14.075265,252.784438 8.81820231,250.404188 C3.56335781,248.023938 1.23206124,241.834846 3.60993937,236.577444 Z" id="Stroke-40" stroke="#FEFEFE"></path>
                <polygon id="Fill-42" fill="#FEFEFE" points="6.6783338 241.304447 12.1993587 242.213955 11.289909 247.733118 11.9021239 247.83516 18.6276151 237.604301 6.78036962 240.689974"></polygon>
            </g>
        </g>
    </g>
</svg>`;


function sound(src) {
    this.sound = document.createElement("audio");
    this.sound.src = src;
    this.sound.setAttribute("preload", "auto");
    this.sound.setAttribute("controls", "none");
    this.sound.style.display = "none";
    document.body.appendChild(this.sound);
    this.play = function(){
        this.sound.play();
    }
    this.stop = function(){
        this.sound.pause();
    }
}

function fetchData() {
    fetch('https://192.168.10.49/api/v1/HackTyphoon/Cards/Random/10').then(response => {
        return response.json();
    }).then(data => {
        vesselData = data;
        firstArray = vesselData.slice(0, vesselData.length / 2);
        secondArray = vesselData.slice(vesselData.length / 2, vesselData.length);
    }).catch(err => {
        console.log(err.message);
    });
    myMusic = new sound("./sounds/goodNews.mp3");
}

function onPropertyClick(event) {
  var value = event.target.innerHTML;
  var key = event.target.key;
  var currentPlayer = event.target.currentPlayer;
  var otherPlayer = players.filter(player => player != currentPlayer)[0];

  var otherPlayersCards = document.getElementById(otherPlayer);
  var currentPlayersCards = document.getElementById(currentPlayer);

  var opponentsProperty = otherPlayersCards.getElementsByTagName("span")[key];
  var opponentPropertyValue = opponentsProperty.innerHTML;

  var currentPlayerProperty = currentPlayersCards.getElementsByTagName("span")[key];
  var currentPlayerPropertyValue = currentPlayerProperty.innerHTML;

  var message = "Draw!";
  if (opponentPropertyValue == currentPlayerPropertyValue){

  } else if (value > opponentPropertyValue || value.trim() == "Laden") {
    wins.forEach(w => {
      if (w.id == currentPlayer) {
        w.wins++;
        var winsElementId = currentPlayer + 'wins';
        document.getElementById(winsElementId).innerHTML = w.wins;
      }
    });
    message = "You won the current round! :-)";
    currentPlayerProperty.classList.add('blue');
    opponentsProperty.classList.add('red');
  } else if (value < opponentPropertyValue || value.trim() == "Laden") {
    wins.forEach(w => {
        if (w.id == otherPlayer) {
          w.wins++;
          var winsElementId = otherPlayer + 'wins';
          document.getElementById(winsElementId).innerHTML = w.wins;
        }
      });
      message = "You lost the current round! :-(";
      currentPlayerProperty.classList.add('red');
      opponentsProperty.classList.add('blue');
  }

  var properties = document.getElementsByClassName("cardProperties");

  for (var i = 0; i < properties.length; i++) {
    properties[i].classList.add("disabled");
  }

  document.getElementById('player2').classList.remove('hide'); // here
  document.getElementById('vaggelisCard').classList.add('hide');
  document.getElementById('message').innerHTML = message;

  currentPlayerProperty.classList.add('blue');
  opponentsProperty.classList.add('blue');
  document.getElementById('nextButton').disabled = false;
}

function createCardContent(id, element, data) {
  var vesselName = document.createElement("div");
  var yearBuilt = document.createElement("div");
  var deadweight = document.createElement("div");
  var draught = document.createElement("div");
  var total_main_hp = document.createElement("div");
  var voyageLeg = document.createElement("div");
  var speed = document.createElement("div");

  var properties = [yearBuilt, deadweight, draught, total_main_hp, voyageLeg, speed];
  properties.forEach(property => (property.className = "cardProperties"));

  element.appendChild(vesselName);
  properties.forEach(property => element.appendChild(property));

  var availableData = data.filter(item => !item.isSelected);
  var item = availableData[Math.floor(Math.random() * availableData.length)];
  item.isSelected = true;

  vesselName.innerHTML = 
    `<div>
      <div id='vesselNameContainer'>${item.vesselName}</div>
      <div id='companyNameContainer'>${item.companyName}</div>
      <div id='vesselClassContainer'>AFRAMAX</div>
      <img class='imageMask' src='./pictures/${item.imo}.jpg'>
    </div>`;

  yearBuilt.innerHTML = `Yearbuilt: <span>${item.yearBuilt}</span>`;
  deadweight.innerHTML = `Deadweight: <span>${item.deadweight}</span>`;
  draught.innerHTML = `Draught: <span>${item.draught}</span>`;
  total_main_hp.innerHTML = `Engine Horsepower: <span>${item.horsePower}</span>`;
  voyageLeg.innerHTML = `Voyage Leg: <span>${item.status}</span>`;
  speed.innerHTML = `Speed: <span>${item.speed}</span>`;
  properties.forEach((property, index) => {
    var item = property.getElementsByTagName("span")[0];
    item.onclick = onPropertyClick;
    item.key = index;
    item.currentPlayer = id;
  });
}

function createCard(id, data) {
  var card = document.createElement("div");

  card.setAttribute("class", "card");
  card.setAttribute("id", id);

  document.getElementById("deck").appendChild(card);

  createCardContent(id, card, data);

  if (id == "player2") {
      document.getElementById('player2').classList.add('hide');
  }
  document.getElementById('nextButton').disabled = true;
}

function createEmptyCard() {
  var card = document.createElement("div");

  card.setAttribute("class", "card");
  card.setAttribute("id", "vaggelisCard");
  
  document.getElementById("deck").appendChild(card);
  document.getElementById("vaggelisCard").innerHTML = nikolasSvg;

  createCardContent(id, card, data);
}

function createCards() {
  document.getElementById("deck").innerHTML = "";
  document.getElementById('message').innerHTML = "";
  var remainCards = firstArray.filter(i => !i.isSelected).length

  if(remainCards > 0) {
    createCard("player1", firstArray);
    createCard("player2", secondArray);
    createEmptyCard();
  }
  else {
    saveWinningGame();
    getLeaderBoard();
    document.getElementById('endGamePanel').classList.remove('hide');
    document.getElementById('mainPanel').classList.add('hide');
  }
}


function startMusic() {
    myMusic.play();
}

function initializeGame() {
  onStartButtonClick();
  document.getElementById('startGamePanel').classList.add('hide');
  document.getElementById('mainPanel').classList.remove('hide');
  createCards();
}



function onStartButtonClick() {
  playerOneName = document.getElementsByTagName('input')[0].value;
  const url = `https://192.168.10.49/api/v1/HackTyphoon/Players/Add?name=${playerOneName}`;

  fetch(url, { method: 'POST' }, playerOneIdFromDB)
    .then(response => response.json())
    .then(data => assignPlayerOneId(data));
}

function assignPlayerOneId(id) {
  playerOneIdFromDB = id;
  getOpponent(playerOneIdFromDB);
}

function assignPlayerTwo(player) {
  playerTwoName = player.playerName + ` (${player.numberOfWins} total wins)`;
  playerTwoIdFromDB = player.id;
  renderPlayerNames();
}


function getOpponent(id) {
  const urlOpponent = `https://192.168.10.49/api/v1/HackTyphoon/Players/Random/${id}`;
  fetch(urlOpponent, { method: 'GET' })
    .then(response => response.json())
    .then(data => assignPlayerTwo(data))
    .catch(err => { console.log(err.message) });
}

function renderPlayerNames() {
  document.getElementById('playerOneId').innerHTML = `${playerOneName}<div id='player1wins'>`;
  document.getElementById('playerTwoId').innerHTML = `${playerTwoName}<div id='player2wins'>`;
}


function assignPlayerOneId(id) {
  playerOneIdFromDB = id;
  getOpponent(playerOneIdFromDB);
}


function getLeaderBoard() {
  const url = `https://192.168.10.49/api/v1/HackTyphoon/Players/Rank`;

  fetch(url, { method: 'GET' })
    .then(response => response.json())
    .then(data => fillLeaderBoard(data));

}

function fillLeaderBoard(data){
  var leaderinner="<table><th>Leader Board<th>";
  var newData = data;

  if(data.length > 5) {
    newData = data.slice(0, 5);
  }

  newData.forEach(w => {
    leaderinner+= "<tr><td>" + w.playerName + "</td><td>"+w.numberOfWins +"</td></tr>";
     });
     leaderinner +="</table>";
  document.getElementById('LeaderBoard').innerHTML = `${leaderinner}`;
}

function saveWinningGame(playerOneIdFromDB, playerTwoIdFromDB){
  const urlSaveGame = `https://192.168.10.49/api/v1/HackTyphoon/Games/New`;
  var dataToSave = "{\"Player1ID\":"+`${playerOneIdFromDB}`+",\"Player2ID\":"+`${playerTwoIdFromDB}`+",\"WinPlayerID\":3}";

  fetch(urlSaveGame, { 
    method: 'POST',
    body:`"data": "${dataToSave}"` })
    .then(response => response.json())
    .then(data => assignPlayerTwo(data))
    .catch(err => { console.log(err.message) });
}